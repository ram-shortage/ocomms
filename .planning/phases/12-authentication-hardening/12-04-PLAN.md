---
phase: 12-authentication-hardening
plan: 04
type: execute
wave: 3
depends_on: ["12-01", "12-02", "12-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Password strength validation working end-to-end"
    - "Account lockout triggers correctly"
    - "Unlock flow functional"
    - "Admin unlock works"
---

<objective>
Verify the complete authentication hardening implementation through manual testing.

Purpose: Confirm all security features work correctly before marking the phase complete. This covers SEC-04 (password strength) and SEC-07 (account lockout) requirements.

Output: Human verification that all flows work as designed.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/12-authentication-hardening/12-CONTEXT.md
@.planning/phases/12-authentication-hardening/12-01-SUMMARY.md
@.planning/phases/12-authentication-hardening/12-02-SUMMARY.md
@.planning/phases/12-authentication-hardening/12-03-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete authentication hardening system:
- Password complexity validation (server-side rejection)
- Password strength meter (client-side feedback)
- Password requirements checklist (real-time)
- Account lockout after 5 failed attempts
- Progressive delays between failures
- Unlock email on lockout
- Forgot password page
- Password reset clears lockout
- Admin unlock capability
  </what-built>
  <how-to-verify>
**1. Password Strength UI (SEC-04 partial)**
- Go to /signup
- Type progressively stronger passwords:
  - "a" - Very Weak, only lowercase checked
  - "aA1!" - Weak/Fair, most checks green but length red
  - "aA1!test" - Strong, all checks green
- Confirm strength meter color changes appropriately

**2. Password Complexity Server Validation (SEC-04)**
- Try to sign up with weak password "password"
- Should see rejection with specific feedback
- Try with "Password1!" - should succeed (or proceed to email verification)

**3. Progressive Delays (SEC-07 partial)**
- Go to /login with a valid email but wrong password
- Submit 1st time - note response time
- Submit 2nd time - should have ~1s delay
- Submit 3rd time - should have ~2s delay
- Submit 4th time - should have ~5s delay

**4. Account Lockout (SEC-07)**
- Continue from step 3, submit 5th wrong password
- Should see "Unable to log in. Check your email for assistance."
- Try to log in again - should be blocked immediately

**5. Unlock Email**
- Check email inbox for unlock notification
- Should contain link to forgot-password page

**6. Forgot Password Page**
- Navigate to /login
- Click "Forgot password?" link
- Enter email and submit
- Should see success message

**7. Password Reset Clears Lockout**
- Complete password reset flow (if SMTP configured)
- After reset, should be able to log in immediately
- Check database: lockedUntil should be null

**8. Admin Unlock**
- Log in as workspace admin/owner
- Go to workspace settings -> members
- Find a locked user (or any user for testing)
- Click unlock button
- Verify action completes
- Check database: user's lockout record cleared
  </how-to-verify>
  <resume-signal>
Type "approved" if all flows work correctly.
Or describe any issues found for fixing.
  </resume-signal>
</task>

</tasks>

<verification>
Human verification of all authentication hardening features.
</verification>

<success_criteria>
- All 8 verification steps pass
- SEC-04 (password strength) verified
- SEC-07 (account lockout) verified
- No regressions in existing auth functionality
</success_criteria>

<output>
After completion, create `.planning/phases/12-authentication-hardening/12-04-SUMMARY.md`
</output>
